{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>Registrar Pago para:  {{ usuario.usuario }}</h2>

    <form method="POST">
    <label>Mes de inicio del pago:</label>
    <select name="mes_inicio" class="form-control" required>
        {% for m in meses %}
            <option value="{{ m.valor }}">{{ m.texto }}</option>
        {% endfor %}
    </select>
        
    <label>Cantidad de meses:</label>
    <input type="number" id="meses_pagados" name="meses_pagados" class="form-control" min="1" max="12" value="1" required>
   
   <label>Monto total:</label>
    <input type="number"  id="monto" name="monto" value="25"  step="0.01" class="form-control" required>

    <button type="submit" class="btn btn-success mt-3">Registrar Pago ðŸ’°</button>
</form>

    <a href="{{ url_for('pagos.admin_panel') }}" class="btn btn-secondary mt-3">Regresar</a>
</div>


<script>
document.addEventListener("DOMContentLoaded", function() {
    const mesesInput = document.getElementById("meses_pagados");
    const montoInput = document.getElementById("monto");

    mesesInput.addEventListener("input", function () {
        const meses = parseInt(mesesInput.value) || 0;
         montoInput.value = meses * parseInt(montoInput.value) || 25; 
    });
});
</script>
{% endblock %}